<div id="modalBackdrop"></div>
<div id="modal">
  <button id="modalClose">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="18"
      height="18"
      viewBox="0 0 18 18"
    >
      <path
        d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"
        fill="currentColor"
      >
      </path>
    </svg>
  </button>
  <slot />
</div>

<style>
  #modalBackdrop {
    @apply fixed w-full h-full top-0 -left-full flex items-center justify-center overflow-y-auto z-max;
    @apply bg-dark30;
    @apply opacity-0;
  }

  #modalBackdrop.touched {
    @apply transition-opacity duration-700;
    @apply left-0;
  }

  #modalBackdrop.open {
    @apply opacity-100;
  }

  #modal {
    @apply fixed w-[90%] m-auto max-w-[800px] max-h-[90%] overflow-y-auto z-max;
    @apply top-[50%] left-[50%] -translate-x-1/2;
    @apply flex items-start justify-center;
    @apply bg-white rounded;
    @apply -translate-y-[200vh];
  }

  #modal.touched {
    @apply transition-transform duration-300;
  }

  #modal.open {
    @apply -translate-y-1/2;
  }

  #modalClose {
    @apply absolute top-10 right-10 z-50;
    @apply btn btn-alt;
  }
</style>

<script>
  import Modal from "../utils/modal";

  const modalContainer = document.getElementById("modal");
  const modalClose = document.getElementById("modalClose");

  const modal = new Modal(modalContainer, modalClose);
  document.body.addEventListener("showModal", () => {
    modal.show();
  });
</script>
